[  {    "type": "delete",    "url": "/ip/:id",    "title": "Ip Delete",    "name": "IpDelete",    "group": "Ip",    "description": "<p>删除<strong>恢复</strong>某个 Ip</p> <p>也可以使用 <code>POST /ip/:id/delete</code> 删除 只用使用 <code>POST</code> 方法恢复 并且设置 <code>value = false</code></p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "admin",        "title": "管理员权限",        "description": "<p>需要已 <code>Admin</code> 权限才能访问</p>"      },      {        "name": "(ip/delete) 删除"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId",            "optional": false,            "field": "id",            "description": "<p>ip 的 id</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "value",            "description": "<p>如果使用 <code>POST</code> 方法删除 就要 吧 <code>value</code> 设置成 <code>true</code></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "reason",            "description": "<p>删除或恢复时的理由</p> <p>默认值 <code>method == 'delete'</code>  使用删除方法 默认是 <code>true</code> 否则是 <code>false</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/ip/delete.js",    "groupTitle": "Ip",    "sampleRequest": [      {        "url": "http://localhost:3000/ip/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 20x": [          {            "group": "Success 20x",            "optional": false,            "field": "statusCode",            "description": "<p>成功返回 <code>20x</code> 状态码</p> <p>删除请求 一般是 <code>204</code></p> <p>创建请求一般是 <code>201</code></p> <p>更新请求一般是 <code>200</code></p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/ip",    "title": "Ip List",    "name": "IpList",    "group": "Ip",    "description": "<p>读取 Ip 规则 列表</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "admin",        "title": "管理员权限",        "description": "<p>需要已 <code>Admin</code> 权限才能访问</p>"      },      {        "name": "(ip/list) 读取列表"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "allowedValues": [              "4",              "6"            ],            "optional": true,            "field": "version",            "description": "<p>ip 的版本</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "role",            "description": "<p>带有该角色的 ip</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "creator",            "description": "<p>创建者 <code>creator._id</code></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "search",            "description": "<p>搜索</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "_id",              "cidr",              "value"            ],            "optional": true,            "field": "sortby",            "defaultValue": "_id",            "description": "<p>排序方式</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "_id",            "description": "<p>某个 <code>id</code></p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "in_id",            "description": "<p>多个 id 用 <code>,</code> 分割 一次最多 256 个</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "lt_id",            "description": "<p>大于 某个 id</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "gt_id",            "description": "<p>小于 某个 id</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "limit",            "defaultValue": "50",            "description": "<p>读取数量 大部分接口最大 <code>200</code> 某些接口 最大 <code>5000</code></p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "skip",            "defaultValue": "0",            "description": "<p>跳过数量 默认 <code>0</code> 最大 接口最大一次读取数量的<code>10</code>倍 大部分就是 <code>2000</code></p>"          },          {            "group": "Parameter",            "type": "Number/String",            "allowedValues": [              "1",              "-1",              "asc",              "desc"            ],            "optional": true,            "field": "sort",            "defaultValue": "-1",            "description": "<p>顺序还是倒序</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "deletedAt",            "defaultValue": "false",            "description": "<p>需要 <code>admin</code> 权限 才能设置成 <code>true</code></p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "can",            "defaultValue": "false",            "description": "<p>如果 <code>can</code> 不是 <code>true</code> 不返回 <code>cans</code> 字段  <code>limit</code> 参数超过 <code>200</code> 条 也不返回 <code>cans</code></p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Ip[]",            "optional": false,            "field": "results",            "description": "<p>查询的结果 详情字段请看  <code>Ip Read</code></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "more",            "description": "<p>是否有更多</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option",            "description": "<p>当前请求的查询选项</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.skip",            "description": "<p>跳过数量</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.limit",            "description": "<p>限制数量</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option.sort",            "description": "<p>排序  <code>{field: 1 | -1 }</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/ip/list.js",    "groupTitle": "Ip",    "sampleRequest": [      {        "url": "http://localhost:3000/ip"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/ip/:id",    "title": "Ip Read",    "name": "IpRead",    "group": "Ip",    "description": "<p>读取 单个 Ip</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(ip/read) 读取单个"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId",            "optional": false,            "field": "id",            "description": "<p>ip 的 id</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          },          {            "group": "Success 200",            "type": "User/ObjectId",            "optional": true,            "field": "creator",            "description": "<p>创建者 需要 <code>admin</code> 权限</p> <p>在非 <code>read</code> 里面 很可能是  <code>ObjectId</code> 哦</p>"          },          {            "group": "Success 200",            "type": "User",            "optional": true,            "field": "updater",            "description": "<p>更新者 需要 <code>admin</code> 权限</p> <p>在非 <code>read</code> 里面 很可能是  <code>ObjectId</code> 哦</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "createdAt",            "description": "<p>创建时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "updatedAt",            "description": "<p>更新时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": true,            "field": "deletedAt",            "description": "<p>删除时间 只有被删除后才有</p>"          },          {            "group": "Success 200",            "type": "Token/ObjectId",            "optional": true,            "field": "token",            "description": "<p>创建该Ip段的 <code>token</code> 需要 <code>admin</code> 权限  在保存的时候 一般是 <code>ObjectId</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "ip",            "description": "<p>创建该Ip段的 <code>ip</code> 需要 <code>admin</code> 权限</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "reason",            "description": "<p>删除或恢复时的理由</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "cidr",            "description": "<p>掩码 <code>ipv4</code> 最大 <code>32</code> <code>ipv6</code> 最大 <code>128</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "value",            "description": "<p><code>ip</code> 段 格式 看 <code>save</code> 里面有</p>"          },          {            "group": "Success 200",            "type": "Number",            "allowedValues": [              "4",              "6"            ],            "optional": false,            "field": "version",            "description": "<p><code>ip</code> 的版本</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "prefix",            "description": "<p><code>ip</code> 的前缀  二进制 字符串 长度等于 <code>cidr</code></p>"          },          {            "group": "Success 200",            "type": "Object[]",            "optional": true,            "field": "roles",            "description": "<p>ip的角色  需要 <code>admin</code> 权限</p>"          },          {            "group": "Success 200",            "type": "Role/ObjectId",            "optional": true,            "field": "roles.role",            "description": "<p>ip 的角色 大部分的时候 是 存在的 除除非角色被删除  在保存的时候 一般是 <code>ObjectId</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "roles.createdAt",            "description": "<p>该角色的创建时间</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "roles.reason",            "description": "<p>设置角色的理由</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": true,            "field": "roles.expiredAt",            "description": "<p>角色的过期时间  留空 永不过期</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/ip/read.js",    "groupTitle": "Ip",    "sampleRequest": [      {        "url": "http://localhost:3000/ip/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "post",    "url": "/ip/:id",    "title": "Ip Save",    "name": "IpSave",    "group": "Ip",    "description": "<p>保存 Ip 用于创建更新</p> <p>也可以使用 <code>PUT /ip/:id</code>  保存</p> <blockquote> <p>更新的时候  必须的字段 可以 不传入 就是不更新该字段</p> </blockquote>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "admin",        "title": "管理员权限",        "description": "<p>需要已 <code>Admin</code> 权限才能访问</p>"      },      {        "name": "(ip/save) 保存"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "id",            "description": "<p>ip 的 <code>id</code></p> <p>没填写 <code>id</code> 就是创建 ip</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "value",            "description": "<p>ip 段</p> <p>允许格式 <code>127.0.0.0/16</code>, <code>ff:44::/64</code>, <code>181.111.111.222</code></p> <p>在创建中是必须的</p>"          },          {            "group": "Parameter",            "type": "Object[]",            "optional": true,            "field": "roles",            "description": "<p>ip的角色 最多 8 个, 需要 <code>ip/role</code> 权限</p>"          },          {            "group": "Parameter",            "type": "Role/ObjectId",            "optional": false,            "field": "roles.role",            "description": "<p>ip 的角色 <strong>设置的角色级别 必须 比自己的等级小  255 除外 255 级别可以是 等于</strong></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "roles.reason",            "description": "<p>设置角色的理由</p>"          },          {            "group": "Parameter",            "type": "Date",            "optional": true,            "field": "roles.expiredAt",            "description": "<p>角色的过期时间  留空 永不过期</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/ip/save.js",    "groupTitle": "Ip",    "sampleRequest": [      {        "url": "http://localhost:3000/ip/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          },          {            "group": "Success 200",            "type": "Mixed",            "optional": false,            "field": "all",            "description": "<p>其他返回的字段 请看 <code>read</code> 方法</p> <p>使用数据 在其他操作后 (save,等) 建议 先 <code>read</code> 下,  再用 <code>read</code> 方法里面的数据 很多时候 都没有 <code>ref</code>  很多字段都是 <code>ObjectId</code> 比如一般 <code>creator</code> <code>updater</code> 字段</p> <p>在 <code>Token Save</code> 里面不用 <code>read</code> 下  <code>Save Token</code> 会 <code>ref</code> 的</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "delete",    "url": "/role/:id",    "title": "Role Delete",    "name": "RoleDelete",    "group": "Role",    "description": "<p>删除<strong>恢复</strong>某个 Role</p> <p>也可以使用 <code>POST /role/:id/delete</code> 删除 只用使用 <code>POST</code> 方法恢复  并且设置 <code>value = false</code></p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "admin",        "title": "管理员权限",        "description": "<p>需要已 <code>Admin</code> 权限才能访问</p>"      },      {        "name": "(role/delete) 删除"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId",            "optional": false,            "field": "id",            "description": "<p>role 的 id</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "value",            "description": "<p>如果使用 <code>POST</code> 方法删除 就要 吧 <code>value</code> 设置成 <code>true</code></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "reason",            "description": "<p>删除或恢复时的理由</p> <p>默认值 <code>method == 'delete'</code>  使用删除方法 默认是 <code>true</code> 否则是 <code>false</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/role/delete.js",    "groupTitle": "Role",    "sampleRequest": [      {        "url": "http://localhost:3000/role/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 20x": [          {            "group": "Success 20x",            "optional": false,            "field": "statusCode",            "description": "<p>成功返回 <code>20x</code> 状态码</p> <p>删除请求 一般是 <code>204</code></p> <p>创建请求一般是 <code>201</code></p> <p>更新请求一般是 <code>200</code></p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/role",    "title": "Role List",    "name": "RoleList",    "group": "Role",    "description": "<p>读取 Role 列表</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(role/list) 读取列表"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "child",            "description": "<p><code>children</code> 的别名</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "children",            "description": "<p>子级</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "creator",            "description": "<p>创建者 <code>creator._id</code></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "search",            "description": "<p>搜索</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "_id",              "level",              "name"            ],            "optional": true,            "field": "sortby",            "defaultValue": "_id",            "description": "<p>排序方式</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "limit",            "defaultValue": "50",            "description": "<p>读取数量 最大 <code>5000</code></p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "_id",            "description": "<p>某个 <code>id</code></p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "in_id",            "description": "<p>多个 id 用 <code>,</code> 分割 一次最多 256 个</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "lt_id",            "description": "<p>大于 某个 id</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "gt_id",            "description": "<p>小于 某个 id</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "skip",            "defaultValue": "0",            "description": "<p>跳过数量 默认 <code>0</code> 最大 接口最大一次读取数量的<code>10</code>倍 大部分就是 <code>2000</code></p>"          },          {            "group": "Parameter",            "type": "Number/String",            "allowedValues": [              "1",              "-1",              "asc",              "desc"            ],            "optional": true,            "field": "sort",            "defaultValue": "-1",            "description": "<p>顺序还是倒序</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "deletedAt",            "defaultValue": "false",            "description": "<p>需要 <code>admin</code> 权限 才能设置成 <code>true</code></p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "can",            "defaultValue": "false",            "description": "<p>如果 <code>can</code> 不是 <code>true</code> 不返回 <code>cans</code> 字段  <code>limit</code> 参数超过 <code>200</code> 条 也不返回 <code>cans</code></p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Role[]",            "optional": false,            "field": "results",            "description": "<p>查询的结果 详情字段请看  <code>Role Read</code></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "more",            "description": "<p>是否有更多</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option",            "description": "<p>当前请求的查询选项</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.skip",            "description": "<p>跳过数量</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.limit",            "description": "<p>限制数量</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option.sort",            "description": "<p>排序  <code>{field: 1 | -1 }</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/role/list.js",    "groupTitle": "Role",    "sampleRequest": [      {        "url": "http://localhost:3000/role"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/role/:id",    "title": "Role Read",    "name": "RoleRead",    "group": "Role",    "description": "<p>读取 单个 Role</p> <p><strong>在 <code>ref</code>(外部引用) 的里面 只有  <code>_id</code>, <code>level</code>, <code>name</code>, <code>attribute</code>  字段</strong></p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(role/read) 读取单个"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId",            "optional": false,            "field": "id",            "description": "<p>role 的 id</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "User/ObjectId",            "optional": true,            "field": "creator",            "description": "<p>创建者 需要 <code>admin</code> 权限</p> <p>在非 <code>read</code> 里面 很可能是  <code>ObjectId</code> 哦</p>"          },          {            "group": "Success 200",            "type": "User",            "optional": true,            "field": "updater",            "description": "<p>更新者 需要 <code>admin</code> 权限</p> <p>在非 <code>read</code> 里面 很可能是  <code>ObjectId</code> 哦</p>"          },          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>角色的 id</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "createdAt",            "description": "<p>创建时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "updatedAt",            "description": "<p>更新时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": true,            "field": "deletedAt",            "description": "<p>删除时间 只有被删除后才有</p>"          },          {            "group": "Success 200",            "type": "Token/ObjectId",            "optional": true,            "field": "token",            "description": "<p>创建该角色的 <code>token</code> 需要 <code>admin</code> 权限  在保存的时候 一般是 ObjectId</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "ip",            "description": "<p>创建该角色的 <code>ip</code> 需要 <code>admin</code> 权限</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "reason",            "description": "<p>删除或恢复时的理由</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "level",            "description": "<p>角色的级别</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "name",            "description": "<p>角色的名称</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "content",            "description": "<p>角色的内容详情</p>"          },          {            "group": "Success 200",            "type": "Role[]/ObjectId[]",            "optional": false,            "field": "children",            "description": "<p>角色的子级 继承的角色  有时候 不是 <code>Role</code> 哦 是 <code>ObjectId</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "attribute",            "description": "<p>角色的属性</p> <p>有这些值 <code>enum: ['', 'guest', 'admin', 'pending', 'banned', 'approved']</code></p>"          },          {            "group": "Success 200",            "type": "Object[]",            "optional": true,            "field": "rules",            "description": "<p>角色的规则</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "rules.scope",            "description": "<p>规则的权限名</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "rules.state",            "description": "<p>规则的权限值 1 = 允许 0 = 默认，跳过  -1 = 拒绝</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "rules.admin",            "description": "<p>是否是 admin 规则</p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "cans.read",            "description": "<p>是否允许 <code>读取</code> <strong>只会在读取 <code>list</code> 的时候出现</strong></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "cans.save",            "description": "<p>是否允许 <code>更新</code></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "cans.delete",            "description": "<p>是否允许 <code>删除</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/role/read.js",    "groupTitle": "Role",    "sampleRequest": [      {        "url": "http://localhost:3000/role/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "post",    "url": "/role/:id",    "title": "Role Save",    "name": "RoleSave",    "group": "Role",    "description": "<p>保存 Role 用于创建更新</p> <p>也可以使用 <code>PUT /role/:id</code>  保存</p> <blockquote> <p>更新的时候  必须的字段 可以 不传入 就是不更新该字段</p> </blockquote>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "admin",        "title": "管理员权限",        "description": "<p>需要已 <code>Admin</code> 权限才能访问</p>"      },      {        "name": "(role/save) 保存"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "id",            "description": "<p>role 的 <code>id</code></p> <p>没填写 <code>id</code> 就是创建 role</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "name",            "description": "<p>角色名称  在创建中是必须的  最大长度 32</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "content",            "description": "<p>角色内容详情信息 最大长度 255</p>"          },          {            "group": "Parameter",            "type": "Numbedr",            "optional": true,            "field": "level",            "defaultValue": "0",            "description": "<p>角色级别 最小 <code>0</code> 最大 <code>255</code></p> <p>只能创建 更新 等操作 <code>level</code> 比自己最大<code>level</code>小的 角色 <code>255</code> 级别除外 <code>255</code> 级别 可以是等于  <code>me.level &gt; role.level || me.level == 255</code></p> <p>最大值 <code>255</code></p>"          },          {            "group": "Parameter",            "type": "ObjectId[]/Role[]",            "optional": true,            "field": "children",            "description": "<p>角色的子角色 最多 8 个</p> <p>只会继承子角色的权限规则 不会继承 角色的级别 级别按照 父角色算</p> <p>值可以是 <code>['507f1f77bcf86cd799439011', { _id: '507f1f77bcf86cd799439011'}, {id: '507f1f77bcf86cd799439011'}]</code></p>"          },          {            "group": "Parameter",            "type": "Object[]",            "optional": true,            "field": "rules",            "description": "<p>角色 的规则</p> <p>规则最多允许 <code>128</code> 条</p> <p>只允许 写入自己角色有的权限的规则</p> <p>数据演示 <code>[{scope: 'token/read'. state:1, admin: false}]</code></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "rules.scope",            "description": "<p>权限的 规则 开头结尾不能加 <code>/</code></p> <p>可以用<code>*</code>通配符 <code>*</code> =  单级匹配 比如 <code>token/*</code> 可以匹配到 <code>token/read</code> <code>token/save</code>  但是不能匹配到 <code>token/read/all</code></p> <p>可以用<code>**</code>通配符 <code>**</code> =  单多级匹配 比如 <code>**</code> 可以匹配到 所有权限    <code>token/**</code> 可以匹配到 所有 <code>token/</code> 开头的， token/**/read 可以匹配到所有已 <code>token/</code> 开头并且 <code>/read</code> 结尾的</p> <p>最大长度 128</p>"          },          {            "group": "Parameter",            "type": "Numbedr",            "optional": true,            "field": "rules.state",            "defaultValue": "0",            "description": "<p>状态 <code>1</code> = 允许 该条权限 <code>0</code> = 默认 跳过不允许不拒绝  <code>-1</code> = 拒绝该条权限</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "rules.admin",            "defaultValue": "false",            "description": "<p>是否是管理员权限   <strong>管理员权限包含了普通权限</strong></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/role/save.js",    "groupTitle": "Role",    "sampleRequest": [      {        "url": "http://localhost:3000/role/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          },          {            "group": "Success 200",            "type": "Mixed",            "optional": false,            "field": "all",            "description": "<p>其他返回的字段 请看 <code>read</code> 方法</p> <p>使用数据 在其他操作后 (save,等) 建议 先 <code>read</code> 下,  再用 <code>read</code> 方法里面的数据 很多时候 都没有 <code>ref</code>  很多字段都是 <code>ObjectId</code> 比如一般 <code>creator</code> <code>updater</code> 字段</p> <p>在 <code>Token Save</code> 里面不用 <code>read</code> 下  <code>Save Token</code> 会 <code>ref</code> 的</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "post",    "url": "/:user/token/clear",    "title": "Token Clear",    "name": "TokenClear",    "group": "Token",    "description": "<p>删除个用户的所有 Token</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "(token/clear) 清除"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId/String",            "allowedValues": [              "id",              "username",              "me"            ],            "optional": false,            "field": "user",            "description": "<p>Token 的 用户</p> <p>请求<strong>其他用户</strong> 的token 需要 <code>admin</code> 权限</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/token/clear.js",    "groupTitle": "Token",    "sampleRequest": [      {        "url": "http://localhost:3000/:user/token/clear"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 20x": [          {            "group": "Success 20x",            "optional": false,            "field": "statusCode",            "description": "<p>成功返回 <code>20x</code> 状态码</p> <p>删除请求 一般是 <code>204</code></p> <p>创建请求一般是 <code>201</code></p> <p>更新请求一般是 <code>200</code></p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "delete",    "url": "/:user/token/:id",    "title": "Token Delete",    "name": "TokenDelete",    "group": "Token",    "description": "<p>删除某个 Token</p> <p>也可以使用 <code>POST /:user/token/:id/delete</code> 删除</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(token/delete) 删除"      }    ],    "version": "0.0.0",    "filename": "app/viewModels/token/delete.js",    "groupTitle": "Token",    "sampleRequest": [      {        "url": "http://localhost:3000/:user/token/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId/String",            "allowedValues": [              "id",              "username",              "me"            ],            "optional": true,            "field": "user",            "description": "<p>Token 的 用户</p> <p>如果<strong>不填写</strong> 或 请求<strong>其他用户</strong> 的token 需要 <code>admin</code> 权限</p>"          },          {            "group": "Parameter",            "type": "ObjectId/String",            "allowedValues": [              "id",              "me"            ],            "optional": false,            "field": "id",            "description": "<p>token 的 <code>id</code></p> <p>未登录的只能请求 自己的 当前请求的 <code>token.id</code>  和 使用 <code>me</code></p> <p>普通会员 可以请求 自己名下所有的 <code>id</code></p> <p>管理员  请求他人 <code>id</code> 需要 <code>admin</code> 权限</p>"          }        ]      }    },    "success": {      "fields": {        "Success 20x": [          {            "group": "Success 20x",            "optional": false,            "field": "statusCode",            "description": "<p>成功返回 <code>20x</code> 状态码</p> <p>删除请求 一般是 <code>204</code></p> <p>创建请求一般是 <code>201</code></p> <p>更新请求一般是 <code>200</code></p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/:user/token",    "title": "Token List",    "name": "TokenList",    "group": "Token",    "description": "<p>读取 Token 列表</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "(token/list) 读取列表"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "_id"            ],            "optional": true,            "field": "sortby",            "defaultValue": "_id",            "description": "<p><code>token</code> 只能按照<code>id</code>排序</p>"          },          {            "group": "Parameter",            "type": "ObjectId/String",            "allowedValues": [              "id",              "username",              "me"            ],            "optional": true,            "field": "user",            "description": "<p>Token 的 用户</p> <p>如果<strong>不填写</strong> 或 请求<strong>其他用户</strong> 的token 需要 <code>admin</code> 权限</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "_id",            "description": "<p>某个 <code>id</code></p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "in_id",            "description": "<p>多个 id 用 <code>,</code> 分割 一次最多 256 个</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "lt_id",            "description": "<p>大于 某个 id</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "gt_id",            "description": "<p>小于 某个 id</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "limit",            "defaultValue": "50",            "description": "<p>读取数量 大部分接口最大 <code>200</code> 某些接口 最大 <code>5000</code></p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "skip",            "defaultValue": "0",            "description": "<p>跳过数量 默认 <code>0</code> 最大 接口最大一次读取数量的<code>10</code>倍 大部分就是 <code>2000</code></p>"          },          {            "group": "Parameter",            "type": "Number/String",            "allowedValues": [              "1",              "-1",              "asc",              "desc"            ],            "optional": true,            "field": "sort",            "defaultValue": "-1",            "description": "<p>顺序还是倒序</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "deletedAt",            "defaultValue": "false",            "description": "<p>需要 <code>admin</code> 权限 才能设置成 <code>true</code></p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "can",            "defaultValue": "false",            "description": "<p>如果 <code>can</code> 不是 <code>true</code> 不返回 <code>cans</code> 字段  <code>limit</code> 参数超过 <code>200</code> 条 也不返回 <code>cans</code></p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Token[]",            "optional": false,            "field": "results",            "description": "<p>查询的结果 详情字段请看  <code>Token Read</code></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "more",            "description": "<p>是否有更多</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option",            "description": "<p>当前请求的查询选项</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.skip",            "description": "<p>跳过数量</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.limit",            "description": "<p>限制数量</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option.sort",            "description": "<p>排序  <code>{field: 1 | -1 }</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/token/list.js",    "groupTitle": "Token",    "sampleRequest": [      {        "url": "http://localhost:3000/:user/token"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/:user/token/:id",    "title": "Token Read",    "name": "TokenRead",    "group": "Token",    "description": "<p>读取 单个 Token</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(token/read) 读取单个"      }    ],    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "createdAt",            "description": "<p>创建时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "expiredAt",            "description": "<p>过期时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "updatedAt",            "description": "<p>更新时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": true,            "field": "deletedAt",            "description": "<p>删除时间 只有被删除后才有</p>"          },          {            "group": "Success 200",            "type": "User",            "optional": true,            "field": "user",            "description": "<p>token 的用户</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "secret",            "description": "<p>密码 <strong>只有创建token,或更新<code>secret</code> 的时候返回值里面才会有这字段</strong></p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "expiresIn",            "description": "<p>过期时间 <strong>还有多少秒过期</strong></p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": true,            "field": "logs",            "description": "<p>嗯访问的 <code>log</code>  最多 100 个  需要 <code>admin</code> 权限 才会返回该字段</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "logs.ip",            "description": "<p>访问 的 <code>ip</code></p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": false,            "field": "logs.createdAt",            "description": "<p>访问的时间</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "logs.userAgent",            "description": "<p>访问的 <code>User-Agent</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "ip",            "description": "<p>访问的 <code>ip</code> 一般是 <code>logs</code> 的最后一个 的 <code>ip</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "userAgent",            "description": "<p>访问的 <code>User-Agent</code> 一般是 <code>logs</code> 的最后一个 的 <code>userAgent</code></p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "cans",            "description": "<p>对该条数据允许的操作</p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "cans.read",            "description": "<p>是否允许 <code>读取</code> <strong>只会在读取 <code>list</code> 的时候出现</strong></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "cans.save",            "description": "<p>是否允许 <code>更新</code></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "cans.delete",            "description": "<p>是否允许 <code>删除</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/token/read.js",    "groupTitle": "Token",    "sampleRequest": [      {        "url": "http://localhost:3000/:user/token/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId/String",            "allowedValues": [              "id",              "username",              "me"            ],            "optional": true,            "field": "user",            "description": "<p>Token 的 用户</p> <p>如果<strong>不填写</strong> 或 请求<strong>其他用户</strong> 的token 需要 <code>admin</code> 权限</p>"          },          {            "group": "Parameter",            "type": "ObjectId/String",            "allowedValues": [              "id",              "me"            ],            "optional": false,            "field": "id",            "description": "<p>token 的 <code>id</code></p> <p>未登录的只能请求 自己的 当前请求的 <code>token.id</code>  和 使用 <code>me</code></p> <p>普通会员 可以请求 自己名下所有的 <code>id</code></p> <p>管理员  请求他人 <code>id</code> 需要 <code>admin</code> 权限</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "post",    "url": "/:user/token/:id",    "title": "Token Save",    "name": "TokenSave",    "group": "Token",    "description": "<p>保存 Token  用于创建更新</p> <p>也可以使用 <code>PUT /:user/token/:id</code>  保存</p> <p>创建 有请求频率限制  <code>{key=ip, reset=1800, limit= 30}</code>  每个 ip 1800 秒内只能创建 30 个 [只有创建哦  更新 什么的没频率限制]</p>",    "permission": [      {        "name": "(token/save) 保存"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "ObjectId/String",            "allowedValues": [              "id",              "me"            ],            "optional": true,            "field": "id",            "description": "<p>token 的 <code>id</code></p> <p>没填写 <code>id</code> 就是创建 token</p> <p>未登录的只能请求 自己的 当前请求的 <code>token.id</code>  和 使用 <code>me</code></p> <p>普通会员 可以请求 自己名下所有的 <code>id</code></p> <p>管理员  请求他人 <code>id</code> 需要 <code>admin</code> 权限</p>"          },          {            "group": "Parameter",            "type": "Number/Date",            "optional": true,            "field": "expiredAt",            "description": "<p>过期时间 如果是数字就是 <code>Date.getTime() + Number * 1000</code> 如果是<code>Date</code> 那直接设置 <code>Date</code>  可以 设置 让它直接过期 <code>1970-01-02 00:00</code></p>"          },          {            "group": "Parameter",            "type": "Null/False",            "optional": true,            "field": "user",            "description": "<p>只能设置成 false 的 用于登出用户</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "secret",            "description": "<p>设置成 true 者更新 <code>secret</code> 字段</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Mixed",            "optional": false,            "field": "all",            "description": "<p>其他返回的字段 请看 <code>read</code> 方法</p>"          },          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/token/save.js",    "groupTitle": "Token",    "sampleRequest": [      {        "url": "http://localhost:3000/:user/token/:id"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/",    "title": "User List",    "name": "UserList",    "group": "User",    "description": "<p>读取 User 列表</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "admin",        "title": "管理员权限",        "description": "<p>需要已 <code>Admin</code> 权限才能访问</p>"      },      {        "name": "(user/list) 读取列表"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "username",            "description": "<p>用户名</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "creator",            "description": "<p>创建者 <code>creator._id</code></p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "role",            "description": "<p>用户的角色</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "_id"            ],            "optional": true,            "field": "sortby",            "defaultValue": "_id",            "description": "<p>排序方式</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "_id",            "description": "<p>某个 <code>id</code></p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "in_id",            "description": "<p>多个 id 用 <code>,</code> 分割 一次最多 256 个</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "lt_id",            "description": "<p>大于 某个 id</p>"          },          {            "group": "Parameter",            "type": "ObjectId",            "optional": true,            "field": "gt_id",            "description": "<p>小于 某个 id</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "limit",            "defaultValue": "50",            "description": "<p>读取数量 大部分接口最大 <code>200</code> 某些接口 最大 <code>5000</code></p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "skip",            "defaultValue": "0",            "description": "<p>跳过数量 默认 <code>0</code> 最大 接口最大一次读取数量的<code>10</code>倍 大部分就是 <code>2000</code></p>"          },          {            "group": "Parameter",            "type": "Number/String",            "allowedValues": [              "1",              "-1",              "asc",              "desc"            ],            "optional": true,            "field": "sort",            "defaultValue": "-1",            "description": "<p>顺序还是倒序</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "can",            "defaultValue": "false",            "description": "<p>如果 <code>can</code> 不是 <code>true</code> 不返回 <code>cans</code> 字段  <code>limit</code> 参数超过 <code>200</code> 条 也不返回 <code>cans</code></p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "User[]",            "optional": false,            "field": "results",            "description": "<p>查询的结果 详情字段请看  <code>User Read</code></p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "more",            "description": "<p>是否有更多</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option",            "description": "<p>当前请求的查询选项</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.skip",            "description": "<p>跳过数量</p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": false,            "field": "option.limit",            "description": "<p>限制数量</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "option.sort",            "description": "<p>排序  <code>{field: 1 | -1 }</code></p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/user/list.js",    "groupTitle": "User",    "sampleRequest": [      {        "url": "http://localhost:3000/"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "post",    "url": "/login",    "title": "User Login",    "name": "UserLogidn",    "group": "User",    "description": "<p>登陆某个用户</p> <p>登陆 有请求频率限制</p> <p><code>{key=ip, reset=1800, limit=30, success: false}</code>  每个 ip 1800 秒内只能登陆 30 次 (失败的)</p> <p><code>{key=token, reset=1800, limit=15}</code> 每个 token 1800 秒内只能登陆 15 次  (无论是否成功)</p> <p><code>{key=username, reset=1800, limit=30, success: false}</code> 每个 username 1800 秒内只能登陆 30 次  (失败的)</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(user/login) 登陆"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "username",            "description": "<p>用户名 或 userid</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "password",            "description": "<p>密码</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/user/login.js",    "groupTitle": "User",    "sampleRequest": [      {        "url": "http://localhost:3000/login"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          },          {            "group": "Success 200",            "type": "Mixed",            "optional": false,            "field": "all",            "description": "<p>其他返回的字段 请看 <code>read</code> 方法</p> <p>使用数据 在其他操作后 (save,等) 建议 先 <code>read</code> 下,  再用 <code>read</code> 方法里面的数据 很多时候 都没有 <code>ref</code>  很多字段都是 <code>ObjectId</code> 比如一般 <code>creator</code> <code>updater</code> 字段</p> <p>在 <code>Token Save</code> 里面不用 <code>read</code> 下  <code>Save Token</code> 会 <code>ref</code> 的</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "get",    "url": "/:user",    "title": "User Read",    "name": "UserRead",    "group": "User",    "description": "<p>读取 单个 User</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(user/read) 读取单个"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String/ObjectId",            "allowedValues": [              "userid",              "username",              "me"            ],            "optional": false,            "field": "user",            "description": "<p>匹配的用户</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          },          {            "group": "Success 200",            "type": "User/ObjectId",            "optional": true,            "field": "creator",            "description": "<p>创建者 需要 <code>admin</code> 权限</p> <p>在非 <code>read</code> 里面 很可能是  <code>ObjectId</code> 哦</p>"          },          {            "group": "Success 200",            "type": "User",            "optional": true,            "field": "updater",            "description": "<p>更新者 需要 <code>admin</code> 权限</p> <p>在非 <code>read</code> 里面 很可能是  <code>ObjectId</code> 哦</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": true,            "field": "createdAt",            "description": "<p>创建时间</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": true,            "field": "updatedAt",            "description": "<p>更新时间</p>"          },          {            "group": "Success 200",            "type": "Token/ObjectId",            "optional": true,            "field": "token",            "description": "<p>创建该 User 的 <code>token</code> 需要 <code>admin</code> 权限  在保存的时候 一般是 <code>ObjectId</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "ip",            "description": "<p>创建该 User 的 <code>ip</code> 需要 <code>admin</code> 权限</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "username",            "description": "<p>用户名</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "nickname",            "description": "<p>名称</p>"          },          {            "group": "Success 200",            "type": "Boolean",            "optional": true,            "field": "havePassword",            "description": "<p>该用户是否有密码  只有 有权限的管理员 和 用户本人才会有该字段</p>"          },          {            "group": "Success 200",            "type": "Post/ObjectId",            "optional": true,            "field": "avatar",            "description": "<p>该用户的头像</p> <p>在非 <code>read</code> 里面 很可能是  <code>ObjectId</code> 哦</p>"          },          {            "group": "Success 200",            "type": "Object/ObjectId",            "optional": true,            "field": "meta",            "description": "<p>用户的 meta 附加信息 比如 消息数量  文章数量 评论数量 什么的</p> <p>拥有字段 <code>{post:0, comment:0, danmaku:0, message;0}</code></p> <p><code>message</code> 字段只有管理员 和自己能看见</p> <p>很少的时候 会返回 <code>ObjectId</code></p>"          },          {            "group": "Success 200",            "type": "Number",            "optional": true,            "field": "level",            "description": "<p>用户的级别 结果 就是 最大有效角色的级别</p>"          },          {            "group": "Success 200",            "type": "Number",            "allowedValues": [              "pending",              "banned",              "approved"            ],            "optional": true,            "field": "status",            "description": "<p>用户的状态</p>"          },          {            "group": "Success 200",            "type": "Object[]",            "optional": true,            "field": "roles",            "description": "<p>用户的的角色</p>"          },          {            "group": "Success 200",            "type": "Role/ObjectId",            "optional": true,            "field": "roles.role",            "description": "<p>角色 大部分的时候 是 存在的 除除非角色被删除  在保存的时候 一般是 <code>ObjectId</code></p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "roles.createdAt",            "description": "<p>该角色的创建时间</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": true,            "field": "roles.reason",            "description": "<p>设置角色的理由</p>"          },          {            "group": "Success 200",            "type": "Date",            "optional": true,            "field": "roles.expiredAt",            "description": "<p>角色的过期时间  留空 永不过期</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/user/read.js",    "groupTitle": "User",    "sampleRequest": [      {        "url": "http://localhost:3000/:user"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "post",    "url": "/:user",    "title": "User Save",    "name": "UserSave",    "group": "User",    "description": "<p>保存 User 用于创建(注册)更新</p> <p>也可以使用 <code>PUT /:user</code>  保存</p> <p>没填写 <code>user</code> 就是创建 <code>User</code></p> <p>创建 user 的限制 （更新不受限）</p> <p><code>{key=ip, reset=86400, limit=3, success: true}</code>  每个 ip 86400 秒内只能 创建 3 次 (成功的)</p> <p><code>{key=token, reset=86400, limit=1, success: true}</code> 每个 token 86400 秒内只能 创建 1 次 (成功的)</p> <blockquote> <p>更新的时候  必须的字段 可以 不传入 就是不更新该字段</p> </blockquote> <p><strong>修改他人用户 需要 admin 权限 并且 级别比别人高 255 级别 可是等于</strong></p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "(user/save) 保存"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "username",            "description": "<p>创建的时候是必须的 用户名 更新时需要 <code>user/username</code> 权限</p> <p>最大 16 字节  规则 <code>/^([0-9a-z]+\\-)*[0-9a-z]+$/</code></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "nickname",            "defaultValue": "username",            "description": "<p>名称 默认是用户名</p> <p>最大 32 字节</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "password",            "description": "<p>密码 更新时需要 <code>user/password</code> 权限</p> <p>最小 6 位数 最大64 位数</p>"          },          {            "group": "Parameter",            "type": "ObjectId/Post/null",            "optional": true,            "field": "avatar",            "description": "<p>用户头像  设置成 false, '', null 就是删除头像</p>"          },          {            "group": "Parameter",            "type": "Role/ObjectId",            "optional": false,            "field": "roles.role",            "description": "<p>user 的角色  需要 <code>admin</code>, <code>user/role</code> 权限</p> <p><strong>设置的角色级别 必须 比自己的等级小  255 除外 255 级别可以是 等于</strong></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "roles.reason",            "description": "<p>设置角色的理由</p>"          },          {            "group": "Parameter",            "type": "Date",            "optional": true,            "field": "roles.expiredAt",            "description": "<p>角色的过期时间  留空 永不过期</p>"          },          {            "group": "Parameter",            "type": "String/ObjectId",            "allowedValues": [              "userid",              "username",              "me"            ],            "optional": true,            "field": "user",            "description": "<p>匹配的用户</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/user/save.js",    "groupTitle": "User",    "sampleRequest": [      {        "url": "http://localhost:3000/:user"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "ObjectId",            "optional": false,            "field": "_id",            "description": "<p>数据的 id</p>"          },          {            "group": "Success 200",            "type": "Mixed",            "optional": false,            "field": "all",            "description": "<p>其他返回的字段 请看 <code>read</code> 方法</p> <p>使用数据 在其他操作后 (save,等) 建议 先 <code>read</code> 下,  再用 <code>read</code> 方法里面的数据 很多时候 都没有 <code>ref</code>  很多字段都是 <code>ObjectId</code> 比如一般 <code>creator</code> <code>updater</code> 字段</p> <p>在 <code>Token Save</code> 里面不用 <code>read</code> 下  <code>Save Token</code> 会 <code>ref</code> 的</p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  },  {    "type": "post",    "url": "/:user/status",    "title": "User Status",    "name": "UserStatus",    "group": "User",    "description": "<p>修改某个用户的状态  （也是给某个用户添加某个特定用户组）  attribute</p>",    "permission": [      {        "name": "token",        "title": "Token 令牌",        "description": "<p>需要 <code>Token</code> 令牌 没令牌不能访问</p>"      },      {        "name": "user",        "title": "已登陆",        "description": "<p>需要已登陆用户才能访问</p>"      },      {        "name": "admin",        "title": "管理员权限",        "description": "<p>需要已 <code>Admin</code> 权限才能访问</p>"      },      {        "name": "(user/status) 状态"      }    ],    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "pending",              "banned",              "approved"            ],            "optional": false,            "field": "status",            "description": "<p>用户组的状态</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "reason",            "description": "<p>修改状态的理由</p>"          },          {            "group": "Parameter",            "type": "String/ObjectId",            "allowedValues": [              "userid",              "username",              "me"            ],            "optional": true,            "field": "user",            "description": "<p>匹配的用户</p>"          }        ]      }    },    "version": "0.0.0",    "filename": "app/viewModels/user/status.js",    "groupTitle": "User",    "sampleRequest": [      {        "url": "http://localhost:3000/:user/status"      }    ],    "header": {      "fields": {        "Header": [          {            "group": "Header",            "type": "String",            "optional": false,            "field": "X-Token",            "description": "<p>token 令牌</p>"          }        ]      }    },    "success": {      "fields": {        "Success 20x": [          {            "group": "Success 20x",            "optional": false,            "field": "statusCode",            "description": "<p>成功返回 <code>20x</code> 状态码</p> <p>删除请求 一般是 <code>204</code></p> <p>创建请求一般是 <code>201</code></p> <p>更新请求一般是 <code>200</code></p>"          }        ]      }    },    "error": {      "fields": {        "Error all": [          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误消息内容</p>"          },          {            "group": "Error all",            "type": "Number",            "optional": false,            "field": "status",            "description": "<p>错误状态码  和 <code>http</code> 状态码 一致</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "properties",            "description": "<p>错误翻译前的原始信息</p>"          },          {            "group": "Error all",            "type": "Object[]",            "optional": true,            "field": "messages",            "description": "<p>详细详细数组</p>"          },          {            "group": "Error all",            "type": "String",            "optional": false,            "field": "messages.message",            "description": "<p>错误信息</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.path",            "description": "<p>错误路径</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.type",            "description": "<p>错误类型</p>"          },          {            "group": "Error all",            "type": "String",            "optional": true,            "field": "messages.name",            "description": "<p>错误名称</p>"          },          {            "group": "Error all",            "type": "Object",            "optional": true,            "field": "messages.properties",            "description": "<p>错误翻译前的原始信息</p>"          }        ]      }    }  }]
